<!--
~ SPDX-FileCopyrightText: 2020-present Open Networking Foundation <info@opennetworking.org>
~
~ SPDX-License-Identifier: LicenseRef-ONF-Member-1.0
-->
<form [formGroup]="roleForm" (ngSubmit)="onSubmit()">

    <mat-card>
        <mat-card-header>
            <mat-card-title>RBAC Role: {{roleid}}</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <div class="row">
                <mat-form-field class="field-margin full-width-table">
                    <input matInput formControlName="description">
                    <mat-hint>Description</mat-hint>
                </mat-form-field>
            </div>
            <div class="row" formGroupName="permission">
                <mat-form-field class="field-margin">
                    <mat-select formControlName="operation">
                        <mat-option *ngFor="let op of ops"
                                    [value]="op">{{op}}</mat-option>
                    </mat-select>
                    <mat-hint>Operation</mat-hint>
                </mat-form-field>
                <mat-form-field class="field-margin">
                    <mat-select formControlName="type">
                        <mat-option *ngFor="let t of types"
                                    [value]="t">{{t}}</mat-option>
                    </mat-select>
                    <mat-hint>Type</mat-hint>
                </mat-form-field>
                <div class="row" formArrayName="leaf-list-noun">
                    <mat-hint class="field-margin">Nouns</mat-hint>
                    <!-- TODO: implement a new form for Add/Edit/Remove of Access profiles
                            It has to be done separately as otherwise it it not possible to
                            really delete an entry-->
                    <button mat-raised-button color="primary" routerLink="/rbac/roles">Edit</button>
                    <div class="row" *ngFor="let _ of nounControls.controls; index as i">
                    <mat-form-field class="field-margin full-width-table">
                        <input matInput [formControlName]="i">
                        <mat-hint>Noun</mat-hint>
                    </mat-form-field>
                    </div>
                </div>
            </div>
        </mat-card-content>
        <mat-card-actions>
            <button mat-raised-button color="primary" type="submit">Update
            </button>
        </mat-card-actions>
    </mat-card>
</form>
